// const projectPath = '/media/catcuts/0001984F000D4AFA/catcuts/project/voerkaTransfer';

const settings = {
    broker: 'tcp://192.168.116.196:1886'
};

// process.env.NODE_PATH=`${projectPath}`;
// require('module').Module._initPaths();

global.logger = {
    info: (...args) => console.info('[INFO]', ...args),
    debug: (...args) => console.debug('[DEBUG]', ...args),
    warn: (...args) => console.warn('[WARN]', ...args),
    error: (...args) => console.error('[ERROR]', ...args),
};

const MQTTTransfer = require('../mqtt');

const mqttTransfer = new MQTTTransfer(settings);

(async () => {
    await mqttTransfer.connect();
    console.log(mqttTransfer.status);
    setTimeout(async () => {
        await mqttTransfer.disconnect();
        console.log(mqttTransfer.status);
    }, 5000);
})();